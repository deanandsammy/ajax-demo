<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div class="container">
    <p id="hint"></p>
    <form action="/ajax">
        <label for="username">用户名</label>
        <input type="text" name="username" id="username">
        <br>
        <label for="password">密码</label>
        <input type="password" name="password" id="password">
        <br>
        <input type="submit" value="提交">
    </form>
</div>
<script src="common/util/validation.js"></script>
<script>
    let rules = [
        {strategy: 'isEmpty', errorMsg: '用户名不能是空'},
        {strategy: 'hasSpace', errorMsg: '用户名不能有空格'},
        {strategy: 'maxLength:6', errorMsg: '最长为6'},
    ];
    let username = document.getElementById('username');
    let hint = document.getElementById('hint');
    let validator = new Validation();

    validator.addByDom(username, 'username', rules);

    username.addEventListener('change', function () {
        let msg = validator.validate('username');

        if (msg) {
            hint.innerText = msg;
        }
    });
</script>
</body>
</html>